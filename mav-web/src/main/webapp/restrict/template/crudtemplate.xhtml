<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:f="http://xmlns.jcp.org/jsf/core"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
    			xmlns:p="http://primefaces.org/ui"
    			xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    			xmlns:jsf="http://xmlns.jcp.org/jsf"
    			template="/restrict/template/default.xhtml"
    			>

        		
     <ui:param name="renderSearchForm" value="#{crudstates.renderSearchForm}" />
     <ui:param name="renderButtonBar" value="#{crudstates.renderButtonBar}" />
     <ui:param name="renderMainForm" value="#{crudstates.renderMainForm}" />
     <ui:param name="renderEditForm" value="#{crudstates.renderEditForm}" />
     <ui:param name="renderInsertForm" value="#{crudstates.renderInsertForm}" />
     <ui:param name="renderSearchButton" value="#{crudstates.renderSearchButton}" />
     <ui:param name="renderInsertButton" value="#{crudstates.renderInsertButton}" />
     <ui:param name="renderCancelButton" value="#{crudstates.renderCancelButton}" />
     <ui:param name="renderSaveButton" value="#{crudstates.renderSaveButton}" />
 
	<ui:define name="content">
	
		<h:form id="fMain" >
		
			<div class="default-crud-main-form #{renderMainForm ? 'default-crud-visible' : 'default-crud-hidden'}" >
				<div  class="default-crud-search-form #{renderSearchForm ? 'default-crud-visible' : 'default-crud-hidden'}">
					<ui:insert name="crudsearchform" />
				</div>
				<div class="default-crud-button-bar #{renderButtonBar ? 'default-crud-visible' : 'default-crud-hidden'}">
					<ui:insert name="crudbuttonbarMain">
						<hr/>
						<p:commandButton value="Pesquisar" styleClass="default-crud-button btn btn-primary btn-xs font-capitalize" actionListener="#{crudevents.search}" rendered="#{renderSearchButton}" >
							<f:ajax render="fMain fEdit fNew" delay="500"></f:ajax>
						</p:commandButton>
						<p:commandButton value="Novo" styleClass="default-crud-button btn btn-primary btn-xs font-capitalize" actionListener="#{crudstates.changeToInsertState}" rendered="#{renderInsertButton}" >
							<f:ajax render="fMain fEdit fNew" delay="500" immediate="false"></f:ajax>
						</p:commandButton>
					</ui:insert>
				</div>	
				<ui:insert name="crudMainForm"/>
			</div>
		</h:form>
		
		<h:form id="fEdit" >	
			<div class="default-crud-edit-form #{renderEditForm ? 'default-crud-visible' : 'default-crud-hidden'}" >
				<div class="default-crud-button-bar #{renderButtonBar ? 'default-crud-visible' : 'default-crud-hidden'}">
				<ui:insert name="crudbuttonbarEdit">
					<hr/>
					<p:commandButton value="Voltar" styleClass="default-crud-button btn btn-primary btn-xs font-capitalize" actionListener="#{crudstates.changeToMainState}" rendered="#{renderCancelButton and renderEditForm}">
						<f:ajax render="fMain fEdit fNew" delay="500" immediate="false"></f:ajax>
					</p:commandButton>
					<p:commandButton value="Salvar Alterações" styleClass="default-crud-button btn btn-primary btn-xs font-capitalize" actionListener="#{crudevents.update}" rendered="#{renderSaveButton and renderEditForm}" process="fEdit">
						<f:ajax render="fMain fEdit fNew" delay="500"></f:ajax>
					</p:commandButton>
				</ui:insert>
			</div>
				<ui:insert name="crudEditForm"/>
			</div>
		</h:form>
		<h:form id="fNew" >	
			<div class="default-crud-insert-form #{renderInsertForm ? 'default-crud-visible' : 'default-crud-hidden'}" >
				<div class="default-crud-button-bar #{renderButtonBar ? 'default-crud-visible' : 'default-crud-hidden'}">
					<ui:insert name="crudbuttonbarNew">
						<hr/>
						<p:commandButton value="Voltar" styleClass="default-crud-button btn btn-primary btn-xs font-capitalize" actionListener="#{crudstates.changeToMainState}" rendered="#{renderCancelButton and renderInsertForm}">
							<f:ajax render="fMain fEdit fNew" delay="500" ></f:ajax>
						</p:commandButton>
						<p:commandButton value="Salvar" styleClass="default-crud-button btn btn-primary btn-xs font-capitalize" actionListener="#{crudevents.save}" rendered="#{renderSaveButton and renderInsertForm}" process="fNew">
							<f:ajax render="fMain fEdit fNew"  delay="500"/>
						</p:commandButton>
					</ui:insert>
				</div>
				<ui:insert name="crudInsertForm"/>
			</div>
		</h:form>
	</ui:define>
	
</ui:composition>